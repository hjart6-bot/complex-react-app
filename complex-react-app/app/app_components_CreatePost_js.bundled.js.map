{"version":3,"sources":["webpack://complex-react-app/./app/components/CreatePost.js"],"names":["CreatePost","props","title","setTitle","useState","body","setBody","appDispatch","useContext","DispatchContext","appState","StateContext","handleSubmit","e","preventDefault","response","Axios","token","user","type","value","history","push","data","console","log","target","withRouter"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,UAAT,CAAoBC,KAApB,EAA2B;AACzB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBC,+CAAQ,EAAlC;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBF,+CAAQ,EAAhC;AACA,QAAMG,WAAW,GAAGC,iDAAU,CAACC,qDAAD,CAA9B;AACA,QAAMC,QAAQ,GAAGF,iDAAU,CAACG,kDAAD,CAA3B;;AAEA,iBAAeC,YAAf,CAA4BC,CAA5B,EAA+B;AAC7BA,KAAC,CAACC,cAAF;;AACA,QAAI;AACF;AACA,YAAMC,QAAQ,GAAG,MAAMC,iDAAA,CAAW,cAAX,EAA2B;AAAEd,aAAF;AAASG,YAAT;AAAeY,aAAK,EAAEP,QAAQ,CAACQ,IAAT,CAAcD;AAApC,OAA3B,CAAvB,CAFE,CAGF;;AACAV,iBAAW,CAAC;AAAEY,YAAI,EAAE,cAAR;AAAwBC,aAAK,EAAE;AAA/B,OAAD,CAAX;AACAnB,WAAK,CAACoB,OAAN,CAAcC,IAAd,CAAoB,SAAQP,QAAQ,CAACQ,IAAK,EAA1C;AACAC,aAAO,CAACC,GAAR,CAAY,sBAAZ;AACD,KAPD,CAOE,OAAOZ,CAAP,EAAU;AACVW,aAAO,CAACC,GAAR,CAAY,qBAAZ;AACD;AACF;;AAED,sBACE,iDAAC,0CAAD;AAAM,SAAK,EAAC;AAAZ,kBACE;AAAM,YAAQ,EAAEb;AAAhB,kBACE;AAAK,aAAS,EAAC;AAAf,kBACE;AAAO,WAAO,EAAC,YAAf;AAA4B,aAAS,EAAC;AAAtC,kBACE,wEADF,CADF,eAIE;AAAO,YAAQ,EAAGC,CAAD,IAAOV,QAAQ,CAACU,CAAC,CAACa,MAAF,CAASN,KAAV,CAAhC;AAAkD,aAAS,MAA3D;AAA4D,QAAI,EAAC,OAAjE;AAAyE,MAAE,EAAC,YAA5E;AAAyF,aAAS,EAAC,iDAAnG;AAAqJ,QAAI,EAAC,MAA1J;AAAiK,eAAW,EAAC,EAA7K;AAAgL,gBAAY,EAAC;AAA7L,IAJF,CADF,eAQE;AAAK,aAAS,EAAC;AAAf,kBACE;AAAO,WAAO,EAAC,WAAf;AAA2B,aAAS,EAAC;AAArC,kBACE,+EADF,CADF,eAIE;AAAU,YAAQ,EAAGP,CAAD,IAAOP,OAAO,CAACO,CAAC,CAACa,MAAF,CAASN,KAAV,CAAlC;AAAoD,QAAI,EAAC,MAAzD;AAAgE,MAAE,EAAC,WAAnE;AAA+E,aAAS,EAAC,yCAAzF;AAAmI,QAAI,EAAC;AAAxI,IAJF,CARF,eAeE;AAAQ,aAAS,EAAC;AAAlB,qBAfF,CADF,CADF;AAqBD;;AAED,iEAAeO,4DAAU,CAAC3B,UAAD,CAAzB,E","file":"app_components_CreatePost_js.bundled.js","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\"\r\nimport Page from \"./Page\"\r\nimport Axios from \"axios\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport DispatchContext from \"../DispatchContext\"\r\nimport StateContext from \"../StateContext\"\r\n\r\nfunction CreatePost(props) {\r\n  const [title, setTitle] = useState()\r\n  const [body, setBody] = useState()\r\n  const appDispatch = useContext(DispatchContext)\r\n  const appState = useContext(StateContext)\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n    try {\r\n      //Use state defined on top of function and value saved from inputs\r\n      const response = await Axios.post(\"/create-post\", { title, body, token: appState.user.token })\r\n      //Redirect to new post url\r\n      appDispatch({ type: \"flashMessage\", value: \"Congrats, you created a new post!\" })\r\n      props.history.push(`/post/${response.data}`)\r\n      console.log(\"New post was created\")\r\n    } catch (e) {\r\n      console.log(\"There was a problem\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Create Post\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"post-title\" className=\"text-muted mb-1\">\r\n            <small>Title</small>\r\n          </label>\r\n          <input onChange={(e) => setTitle(e.target.value)} autoFocus name=\"title\" id=\"post-title\" className=\"form-control form-control-lg form-control-title\" type=\"text\" placeholder=\"\" autoComplete=\"off\" />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"post-body\" className=\"text-muted mb-1 d-block\">\r\n            <small>Body Content</small>\r\n          </label>\r\n          <textarea onChange={(e) => setBody(e.target.value)} name=\"body\" id=\"post-body\" className=\"body-content tall-textarea form-control\" type=\"text\"></textarea>\r\n        </div>\r\n\r\n        <button className=\"btn btn-primary\">Save New Post</button>\r\n      </form>\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default withRouter(CreatePost)\r\n"],"sourceRoot":""}